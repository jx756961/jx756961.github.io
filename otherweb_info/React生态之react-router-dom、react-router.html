<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>React生态之react-router-dom、react-router</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
<h2 style="text-align: center">React生态之react-router-dom、react-router</h2>
  <div class="stackedit__html"><h5><a id="_reactrouter_0"></a>关于 react-router</h5>
<blockquote>
<p>4.0以上版本已经不需要路由配置,直接配置使用组件。<br>
react-router :提供了一些router的核心Api , 包括Router、Route 、Switch 等<br>
react-router-dom 提供了BrowserRouter、HashRouter、Route、 Link、NavLink、Router、Route 、Switch 等</p>
</blockquote>
<ul>
<li>所以WEB端直接安装react-router-dom 模块就可以了,</li>
</ul>
<h5><a id="_reactrouterdom_5"></a>安装 react-router-dom</h5>
<ul>
<li>
<p>npm 安装</p>
<p><code>npm install react-router-dom --save</code></p>
</li>
<li>
<p>yarn 安装</p>
<p><code>yran add react-router-dom</code></p>
</li>
</ul>
<h5><a id="_14"></a>配置路由模块</h5>
<ol>
<li>组件页面文件结构如下,<code>admin.js</code> 属于主页,比如login进入的页面 。</li>
</ol>
<pre><code class="prism language-src">	-src
		-admin.js
		-router.js
		-components
			-Header.js
			-Footer.js
			-NavLeft.js
		-pages
			-login
				index.js
			-page1
				-index.js
				-index.css
			-page2
				-index.js
			-page3
				-index.js
			-page4
				-index.js
</code></pre>
<ol start="2">
<li><code>admin.js</code> 页面内容如下：</li>
</ol>
<pre><code class="prism language-javascript">	<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
	<span class="token comment">//可以使用antd的ui框架</span>
	<span class="token keyword">import</span> <span class="token punctuation">{</span> Row<span class="token punctuation">,</span> Col<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'antd'</span><span class="token punctuation">;</span>
	<span class="token keyword">import</span> Header <span class="token keyword">from</span> <span class="token string">'./components/Header'</span>
	<span class="token keyword">import</span> Footer <span class="token keyword">from</span> <span class="token string">'./components/Footer'</span>
	<span class="token keyword">import</span> NavLeft <span class="token keyword">from</span> <span class="token string">'./components/NavLeft'</span>
	
	
	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Admin</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
	    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	        <span class="token keyword">return</span><span class="token punctuation">(</span>
	            <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"container"</span><span class="token operator">&gt;</span>
	                <span class="token operator">&lt;</span>Row<span class="token operator">&gt;</span>
	                    <span class="token operator">&lt;</span>Col span<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
	                    	<span class="token comment">//这里的内容可以直接放在NavLeft里面,作为跳转使用</span>
	                        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
		                        <span class="token operator">&lt;</span>NavLink to<span class="token operator">=</span><span class="token string">"/admin/page1"</span><span class="token operator">&gt;</span>go to page1<span class="token operator">&lt;</span><span class="token operator">/</span>NavLink<span class="token operator">&gt;</span>
		                    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
		                    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
		                        <span class="token operator">&lt;</span>NavLink to<span class="token operator">=</span><span class="token string">"/admin/page2"</span><span class="token operator">&gt;</span>go to page2<span class="token operator">&lt;</span><span class="token operator">/</span>NavLink<span class="token operator">&gt;</span>
		                    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
		                    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
		                        <span class="token operator">&lt;</span>NavLink to<span class="token operator">=</span><span class="token string">"/admin/page3"</span><span class="token operator">&gt;</span>go to page3<span class="token operator">&lt;</span><span class="token operator">/</span>NavLink<span class="token operator">&gt;</span>
		                    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
		                    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
		                        <span class="token operator">&lt;</span>NavLink to<span class="token operator">=</span><span class="token string">"/admin/page4"</span><span class="token operator">&gt;</span>go to page4<span class="token operator">&lt;</span><span class="token operator">/</span>NavLink<span class="token operator">&gt;</span>
		                    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
	                    <span class="token operator">&lt;</span><span class="token operator">/</span>Col<span class="token operator">&gt;</span>
	                    <span class="token operator">&lt;</span>Col span<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">20</span><span class="token punctuation">}</span> className<span class="token operator">=</span><span class="token string">"main"</span><span class="token operator">&gt;</span>
	                        <span class="token operator">&lt;</span>Header<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Header<span class="token operator">&gt;</span>
	                        <span class="token operator">&lt;</span>Row className<span class="token operator">=</span><span class="token string">"content"</span><span class="token operator">&gt;</span>
	                        	<span class="token comment">//这里就是路由配置的加载位置,由this.props.children实现</span>
	                            <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children<span class="token punctuation">}</span>
	                        <span class="token operator">&lt;</span><span class="token operator">/</span>Row<span class="token operator">&gt;</span>
	                        <span class="token operator">&lt;</span>Footer<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Footer<span class="token operator">&gt;</span>
	                    <span class="token operator">&lt;</span><span class="token operator">/</span>Col<span class="token operator">&gt;</span>
	                <span class="token operator">&lt;</span><span class="token operator">/</span>Row<span class="token operator">&gt;</span>
	
	            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
	        <span class="token punctuation">)</span>
	    <span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
</code></pre>
<ol start="3">
<li>page页面内容如下</li>
</ol>
<pre><code class="prism language-javascript">	<span class="token comment">//page1</span>
	<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
	<span class="token keyword">import</span> <span class="token string">'./index.css'</span>
	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">PageOne</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
	    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	        <span class="token keyword">return</span><span class="token punctuation">(</span>
	            <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
	                这里是页面<span class="token number">1</span>
	            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
	        <span class="token punctuation">)</span>
	    <span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//page2</span>
	<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">PageTwo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
	    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	        <span class="token keyword">return</span><span class="token punctuation">(</span>
	            <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
	                这里是页面<span class="token number">2</span>
	            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
	        <span class="token punctuation">)</span>
	    <span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//page3</span>
	<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">PageThree</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
	    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	        <span class="token keyword">return</span><span class="token punctuation">(</span>
	            <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
	                这里是页面<span class="token number">3</span>
	            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
	        <span class="token punctuation">)</span>
	    <span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//page4</span>
	<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">PageFour</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
	    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	        <span class="token keyword">return</span><span class="token punctuation">(</span>
	            <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
	                这里是页面<span class="token number">4</span>
	            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
	        <span class="token punctuation">)</span>
	    <span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
</code></pre>
<ol start="4">
<li><code>router.js</code>  这里就是最主要的路由组件配置</li>
</ol>
<blockquote>
<p><strong><code>HashRouter</code> 里面不能直接写 <code>Route</code> 必须添加一个节点比如挂载到 <code>&lt;App&gt;</code> ,因为<code>HashRouter</code> 内只允许有一个子节点</strong><br>
<strong>路由精确匹配： <code>exact={true}</code> 在4.0以上的版本会加载多个路由组件,比如 <code>/admin</code> 会同时加载到 <code>/</code> 和 <code>/admin</code>  使用参数时就不会去加载 <code>/</code> 模块  .用法参照下面示例</strong><br>
<strong><code>Switch</code>  递进匹配, 一旦匹配到一个路由就不会在进行匹配。 只选择第一个匹配到的渲染  就好像Switch语句一样</strong><br>
<strong><code>&lt;Route component={NoMatch}&gt;&lt;/Route&gt;</code> 找不到文件自动加载这个路由模块</strong></p>
</blockquote>
<pre><code class="prism language-javascript">	<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
	<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App'</span>
	<span class="token keyword">import</span> Admin <span class="token keyword">from</span> <span class="token string">'./admin'</span>
	<span class="token keyword">import</span> Login <span class="token keyword">from</span> <span class="token string">'./pages/login'</span>
	<span class="token keyword">import</span> PageOne <span class="token keyword">from</span> <span class="token string">'./pages/page1'</span>
	<span class="token keyword">import</span> PageTwo <span class="token keyword">from</span> <span class="token string">'./pages/page2'</span>
	<span class="token keyword">import</span> PageThree <span class="token keyword">from</span> <span class="token string">'./pages/page3'</span>
	<span class="token keyword">import</span> PageFour <span class="token keyword">from</span> <span class="token string">'./pages/page4'</span>
	<span class="token keyword">import</span> NoMatch <span class="token keyword">from</span> <span class="token string">'./pages/NoMatch'</span>
	<span class="token keyword">import</span> <span class="token punctuation">{</span>HashRouter<span class="token punctuation">,</span> Route <span class="token punctuation">,</span> Switch<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span>
	
	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">CRouter</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
	    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	        <span class="token keyword">return</span><span class="token punctuation">(</span>
	            <span class="token operator">&lt;</span>HashRouter<span class="token operator">&gt;</span>
	                <span class="token operator">&lt;</span>App<span class="token operator">&gt;</span>
	                    <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/login"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>Login<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
	                    <span class="token operator">&lt;</span>Route exact<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">}</span> path<span class="token operator">=</span><span class="token string">"/admin"</span> render<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>
	                        <span class="token operator">&lt;</span>Admin<span class="token operator">&gt;</span>
	                            <span class="token operator">&lt;</span>Switch<span class="token operator">&gt;</span>
	                                <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/admin/page1"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>PageOne<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
	                                <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/admin/page2"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>PageTwo<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
	                                <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/admin/page3"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>PageThree<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
	                                <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/admin/page4"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>PageFour<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
	                                <span class="token operator">&lt;</span>Route  component<span class="token operator">=</span><span class="token punctuation">{</span>NoMatch<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
	                            <span class="token operator">&lt;</span><span class="token operator">/</span>Switch<span class="token operator">&gt;</span>
	                        <span class="token operator">&lt;</span><span class="token operator">/</span>Admin<span class="token operator">&gt;</span>
	                    <span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
	                    <span class="token operator">&lt;</span>Route  component<span class="token operator">=</span><span class="token punctuation">{</span>Login<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
	                <span class="token operator">&lt;</span><span class="token operator">/</span>App<span class="token operator">&gt;</span>
	            <span class="token operator">&lt;</span><span class="token operator">/</span>HashRouter<span class="token operator">&gt;</span>
	        <span class="token punctuation">)</span>
	    <span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
</code></pre>
<ol start="5">
<li><code>App.js</code></li>
</ol>
<pre><code class="prism language-javascript">	<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
	<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
	  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	    <span class="token keyword">return</span> <span class="token punctuation">(</span>
	      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"App"</span><span class="token operator">&gt;</span>
	      	<span class="token comment">//这里的App 其实就是路由的最外侧节点模块,里面不需要别的操作只需要用this.props.children 来加载路由的配置</span>
	          <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children<span class="token punctuation">}</span>
	      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
	    <span class="token punctuation">)</span><span class="token punctuation">;</span>
	  <span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre>
<ol start="6">
<li><code>index.js</code> 入口文件</li>
</ol>
<pre><code class="prism language-javascript">	<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
	<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">'react-dom'</span><span class="token punctuation">;</span>
	<span class="token keyword">import</span> <span class="token string">'./index.css'</span><span class="token punctuation">;</span>
	<span class="token comment">//引入路由组件配置就可以</span>
	<span class="token keyword">import</span> Route <span class="token keyword">from</span> <span class="token string">'./router'</span>
	<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> serviceWorker <span class="token keyword">from</span> <span class="token string">'./serviceWorker'</span><span class="token punctuation">;</span>
	ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Route <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	serviceWorker<span class="token punctuation">.</span><span class="token function">unregister</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4><a id="_200"></a>使用嵌套路由,路由重定向,动态路由</h4>
<blockquote>
<p><code>Admin</code> 组件模块就是一个嵌套路由的使用方法<br>
<code>&lt;Redirect from='/admin' to='/admin/home'&gt;&lt;/Redirect&gt;</code> <code>/admin</code>重定向到  <code>/admin/home</code></p>
</blockquote>
<pre><code class="prism language-javascript">	<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
	<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App'</span>
	<span class="token keyword">import</span> Admin <span class="token keyword">from</span> <span class="token string">'./admin'</span>
	<span class="token keyword">import</span> Login <span class="token keyword">from</span> <span class="token string">'./pages/login'</span>
	<span class="token keyword">import</span> PageOne <span class="token keyword">from</span> <span class="token string">'./pages/page1'</span>
	<span class="token keyword">import</span> PageTwo <span class="token keyword">from</span> <span class="token string">'./pages/page2'</span>
	<span class="token keyword">import</span> PageThree <span class="token keyword">from</span> <span class="token string">'./pages/page3'</span>
	<span class="token keyword">import</span> PageFour <span class="token keyword">from</span> <span class="token string">'./pages/page4'</span>
	<span class="token keyword">import</span> NoMatch <span class="token keyword">from</span> <span class="token string">'./pages/NoMatch'</span>
	<span class="token keyword">import</span> <span class="token punctuation">{</span>HashRouter<span class="token punctuation">,</span> Route <span class="token punctuation">,</span> Switch<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span>
	
	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">CRouter</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
	    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	        <span class="token keyword">return</span><span class="token punctuation">(</span>
	            <span class="token operator">&lt;</span>HashRouter<span class="token operator">&gt;</span>
	                <span class="token operator">&lt;</span>App<span class="token operator">&gt;</span>
	                	<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
	                		<span class="token comment">//3. Link里面设置动态路由参数值“/参数值”</span>
	                       <span class="token operator">&lt;</span>NavLink to<span class="token operator">=</span><span class="token string">"/admin/page1/12312111"</span><span class="token operator">&gt;</span>go to page1<span class="token operator">&lt;</span><span class="token operator">/</span>NavLink<span class="token operator">&gt;</span>
	                    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
	                    <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/login"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>Login<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
	                    <span class="token operator">&lt;</span>Route exact<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">}</span> path<span class="token operator">=</span><span class="token string">"/admin"</span> render<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>
	                    	<span class="token comment">//1. 这里就是路由嵌套的用法,创建Admin组件。里面继续加载路由模块</span>
	                    	<span class="token comment">//1. 上面的render箭头函数就类似于return 返回这个节点</span>
	                        <span class="token operator">&lt;</span>Admin<span class="token operator">&gt;</span>
	                            <span class="token operator">&lt;</span>Switch<span class="token operator">&gt;</span>
	                            	<span class="token comment">//3. Route 里面设置参数名的方式 “ /:参数名 ” 	</span>
	                                <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/admin/page1/:pageId"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>PageOne<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
	                                <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/admin/page2"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>PageTwo<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
	                                <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/admin/page3"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>PageThree<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
	                                <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/admin/page4"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>PageFour<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
	                                <span class="token operator">&lt;</span>Route  component<span class="token operator">=</span><span class="token punctuation">{</span>NoMatch<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
	                            <span class="token operator">&lt;</span><span class="token operator">/</span>Switch<span class="token operator">&gt;</span>
	                            <span class="token comment">//2. 路由重定向</span>
	                            <span class="token operator">&lt;</span>Redirect <span class="token keyword">from</span><span class="token operator">=</span><span class="token string">'/admin'</span> to<span class="token operator">=</span><span class="token string">'/admin/home'</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Redirect<span class="token operator">&gt;</span>
	                        <span class="token operator">&lt;</span><span class="token operator">/</span>Admin<span class="token operator">&gt;</span>
	                    <span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
	                    <span class="token operator">&lt;</span>Route  component<span class="token operator">=</span><span class="token punctuation">{</span>Login<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
	                <span class="token operator">&lt;</span><span class="token operator">/</span>App<span class="token operator">&gt;</span>
	            <span class="token operator">&lt;</span><span class="token operator">/</span>HashRouter<span class="token operator">&gt;</span>
	        <span class="token punctuation">)</span>
	    <span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	
	<span class="token comment">//page1</span>
	<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
	<span class="token keyword">import</span> <span class="token string">'./index.css'</span>
	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">PageOne</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
	    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	        <span class="token keyword">return</span><span class="token punctuation">(</span>
	            <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
	                <span class="token comment">//这里是页面1下面是获取参数的方式</span>
	                <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>match<span class="token punctuation">.</span>params<span class="token punctuation">.</span>pageId<span class="token punctuation">}</span> <span class="token comment">//3. 输出结果为：12312111  固定获取方法：this.props.match.params.参数名</span>
	            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
	        <span class="token punctuation">)</span>
	    <span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
</code></pre>
</div>
</body>

</html>
