<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JavaScript学习（十四）try catch</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
<h2 style="text-align: center">JavaScript学习（十四）try catch</h2>
  <div class="stackedit__html"><blockquote>
<p>异常最大的特征，就是一旦出现异常，后面的代码将不会再执行</p>
</blockquote>
<blockquote>
<p>那为了保证后面代码在出现异常之后，还能继续执行，所以就要进行异常处理</p>
</blockquote>
<blockquote>
<p>注意 <code>语法异常</code> try catch无法捕获</p>
</blockquote>
<blockquote>
<p>异常捕获语句<br>
<code>try catch finally</code></p>
</blockquote>
<h6><a id="__throw_10"></a>手动抛出异常信息 使用 <code>throw关键字</code></h6>
<p>语法：</p>
<pre><code class="prism language-javascript"><span class="token keyword">try</span><span class="token punctuation">{</span>
<span class="token comment">//  a();</span>
    <span class="token comment">//可能会出现问题的代码</span>
    <span class="token comment">// 手动抛出错误</span>
    <span class="token keyword">throw</span> <span class="token string">"你的代码坏了！！！"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//出现异常后的处理代码包括手动抛出的错误</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"我是之后的代码"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span>num1<span class="token punctuation">,</span> num2<span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token keyword">if</span><span class="token punctuation">(</span>num1 <span class="token operator">==</span> undefined <span class="token operator">||</span> num2 <span class="token operator">==</span> undefined<span class="token punctuation">)</span><span class="token punctuation">{</span>
   	<span class="token comment">//这里可以直接在控制台抛出错误</span>
       <span class="token keyword">throw</span> <span class="token punctuation">{</span>
           errMsg<span class="token punctuation">:</span> <span class="token string">"能不能好好玩耍了，乖乖给我传参！！"</span><span class="token punctuation">,</span>
           errCode<span class="token punctuation">:</span> <span class="token number">13888888888</span>
       <span class="token punctuation">}</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
       <span class="token keyword">return</span> num1 <span class="token operator">+</span> num2<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">try</span><span class="token punctuation">{</span>
	<span class="token comment">//这里调用上面的方法</span>
    <span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token comment">//获取到上面的异常语句</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>errMsg<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//输出： 能不能好好玩耍了，乖乖给我传参！！</span>
<span class="token punctuation">}</span>
</code></pre>
<h6><a id="_52"></a>异常捕获语句的完整形式</h6>
<pre><code class="prism language-javascript"><span class="token keyword">try</span><span class="token punctuation">{</span>
  <span class="token comment">//可能出现异常的代码</span>
   <span class="token function">xyz</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
<span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token comment">//出现异常后的处理代码</span>
<span class="token punctuation">}</span>
<span class="token keyword">finally</span><span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"我是finally中的代码"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token comment">//不管有没有出现异常，这里的代码都会执行</span>
   <span class="token comment">//node.js操作资源的时候需要释放</span>
   <span class="token comment">//做释放资源的操作。</span>
<span class="token punctuation">}</span>
</code></pre>
</div>
</body>

</html>
